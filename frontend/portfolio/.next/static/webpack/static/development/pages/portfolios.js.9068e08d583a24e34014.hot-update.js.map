{"version":3,"file":"static/webpack/static/development/pages/portfolios.js.9068e08d583a24e34014.hot-update.js","sources":["webpack:///./pages/portfolios.js"],"sourcesContent":["import React from \"react\";\nimport BaseLayout from \"../components/layouts/BaseLayout\";\nimport BasePage from \"../components/BasePage\";\nimport { Link } from \"../routes\";\nimport { Col, Row, Button } from \"reactstrap\";\nimport PortfolioCard from \"../components/portfolios/PortfolioCard\";\n\nimport { Router } from \"../routes\";\n\nimport { getPortfolios, deletePortfolio } from \"../actions\";\n\nclass Portfolios extends React.Component {\n  static async getInitialProps() {\n    let portfolios = [];\n\n    try {\n      portfolios = await getPortfolios();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return { portfolios };\n  }\n\n  navigateToEdit(portfolioId, e) {\n    e.stopPropagation();\n    Router.pushRoute(`/portfolios/${portfolioId}/edit`);\n  }\n\n  displayDeleteWarning(portfolioId, e) {\n    e.stopPropagation();\n    const isConfirm = confirm(\n      \"Are you sure you want to delete this project???\"\n    );\n\n    if (isConfirm) {\n      this.deletePortfolio(portfolioId);\n    }\n  }\n\n  deletePortfolio(portfolioId) {\n    deletePortfolio(portfolioId)\n      .then(() => {\n        Router.pushRoute(\"/portfolios\");\n      })\n      .catch(err => console.error(err));\n  }\n\n  renderPortfolios(portfolios) {\n    const { isAuthenticated, isSiteOwner } = this.props.auth;\n\n    return portfolios.map((portfolio, index) => {\n      return (\n        <Col key={index} md=\"4\">\n          <PortfolioCard portfolio={portfolio}>\n            {isAuthenticated && isSiteOwner && (\n              <React.Fragment>\n                <Button\n                  onClick={e => this.navigateToEdit(portfolio._id, e)}\n                  color=\"warning\"\n                >\n                  Edit\n                </Button>{\" \"}\n                <Button\n                  onClick={e => this.displayDeleteWarning(portfolio._id, e)}\n                  color=\"danger\"\n                >\n                  Delete\n                </Button>\n              </React.Fragment>\n            )}\n          </PortfolioCard>\n        </Col>\n      );\n    });\n  }\n\n  render() {\n    const { portfolios } = this.props;\n    const { isAuthenticated, isSiteOwner } = this.props.auth;\n\n    return (\n      <BaseLayout\n        title=\"Chris Carr - Learn About My Experience\"\n        {...this.props.auth}\n      >\n        <BasePage className=\"portfolio-page\" title=\"Portfolios\">\n          {isAuthenticated && isSiteOwner && (\n            <Button\n              onClick={() => Router.pushRoute(\"/portfolios/new\")}\n              color=\"success\"\n              className=\"create-port-btn\"\n            >\n              Add Project\n            </Button>\n          )}\n          <Row>{this.renderPortfolios(portfolios)}</Row>\n        </BasePage>\n      </BaseLayout>\n    );\n  }\n}\n\nexport default Portfolios;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;AAaA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;AAFA;AAOA;AAAA;AAAA;AACA;AAFA;AAWA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AADA;AAIA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAHA;AAYA;;;;;;;;;;;;AAvFA;;;AAGA;AACA;;AADA;;;;;;;AAEA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAXA;AACA;AA2FA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}